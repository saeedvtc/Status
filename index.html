<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>حساب الأيام فوق 179</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        input, button { padding: 10px; margin: 10px 0; font-size: 16px; }
        .result { margin-top: 20px; font-size: 18px; font-weight: bold; }
        .violation { font-size: 28px; color: red; font-weight: bold; }
        .ok { font-size: 24px; color: green; font-weight: bold; }
    </style>
</head>
<body>

    <h2>حساب الأيام فوق 179 يوم</h2>

    <label>تاريخ الخروج:</label><br>
    <input type="date" id="exitDate"><br>

    <button onclick="calculate()">احسب</button>

    <div class="result" id="output"></div>

    <script>
        function calculate() {
            let exitDate = new Date(document.getElementById("exitDate").value);

            if (!document.getElementById("exitDate").value) {
                document.getElementById("output").innerHTML = "⚠ الرجاء إدخال تاريخ الخروج.";
                return;
            }

            let today = new Date();
            let diffTime = today - exitDate;
            let days = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            let outputDiv = document.getElementById("output");
            
            let status = days > 179 ? "مخالف" : "غير مخالف";
            let className = days > 179 ? "violation" : "ok";

            outputDiv.innerHTML =
                "تاريخ القدوم (تلقائي): " + today.toISOString().split("T")[0] + "<br>" +
                "عدد الأيام الكلي: " + days + "<br>" +
                "الحالة: <span class='" + className + "'>" + status + "</span>";
        }
    </script>

</body>
</html>
